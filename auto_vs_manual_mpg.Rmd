---
title: "MPG consumption analysis betweeen automatic and manual transmissions"
author: "Ridzuan Mohamad"
date: "3/19/2017"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(ggplot2)
library(datasets)

data("mtcars")
```

## Introduction
The Motor Trend, a magazine about the automobile industry. Looking at a data set of a collection of cars, they are interested in exploring the relationship between a set of variables and miles per gallon (MPG) (outcome). They are particularly interested in the following two questions:

1. Is an automatic or manual transmission better for MPG
2. Quantify the MPG difference between automatic and manual transmissions

## Data Analysis & Exploratory
The dataset consist of 11 variables but we only interested only a few variable such as _mpg, cyl, hp, wt, am and gear_. The detail description for the variable as describe in _Appendix A and Appendix B_

```{r}
mtcars_clean <- subset(mtcars, select = c("mpg", "cyl", "hp", "wt", "am", "gear"))
```

Than, calculate the mean for both transmission type and plot the boxplot to visualized the pattern for both transmission types. _(refer Appendix C)_
```{r}
c(automatic = mean(mtcars[mtcars$am==0,]$mpg), manual = mean(mtcars[mtcars$am==1,]$mpg))
```

The result shows that the automatic transmission is better than manual transmission in gas consumption. Let take that as our Null Hypothesis ( $H_0$). Now we test the $H_0$ with T-Test and the probability of Type 1 error is ($\alpha = 0.05$)

```{r}
hypo.result <- t.test(mtcars[mtcars$am==0,]$mpg, mtcars[mtcars$am==1,]$mpg)
hypo.result$p.value
```

However the hypothesis testing show that the _p-value_ < $\alpha$ which force us to reject the $H_0$.

## Regression Model

Firstly, we have to choose a right model by using R step() function.

```{r}
best.model <- step(lm(mpg ~ ., data = mtcars_clean), trace=0)
summary(best.model)
```

The Adjusted R-squared value shows that 83% of the variance of the MPG variable. Which mean the variable _cyl, hp and wt_ have a correlation affect between _mpg_ and _am_ (transmission type).

## Summary

# Appendix

### Appendix A - Selected Variable and Description
Variable | Description
---------|----------------------
mpg      | Miles/(US) gallon
cyl	     | Number of cylinders
hp	     | Gross horsepower
wt	     | Weight (1000 lbs)
am	     | Transmission (0 = automatic, 1 = manual
gear	 | Number of forward gears

### Appendix B - mtcars data structure
```{r}
str(mtcars)
```

### Appendix C - Boxplot MPG vs. Transmission Type
```{r}
ggplot(mtcars, aes(x = factor(am, labels=c("automatic", "manual")), y = mpg, 
                   fill=factor(am, labels=c("automatic", "manual")))) +
    geom_boxplot() +
    scale_x_discrete(name = "Transmission") +
    scale_y_continuous(name = "MPG - Miles per Gallon") +
    ggtitle("MPG vs. Transmission Type") +
    theme(legend.title=element_blank())
```

### Appendix D - Model's Summary 
```{r}
summary(lm(mpg ~ am, mtcars))
summary(best.model)
```
